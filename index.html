<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="css/main.css">

  <script src="jszip/3.5.0/jszip.min.js"></script>

  <title>EV3 Classroom / Spike Copy</title>
</head>

<body>
  <header>
    <div>EV3 Classroom / Spike Copy</div>
  </header>

  <main>
    <div class="file blocksSection">
      <div class="header">
        <div class="title">File</div>

        <div class="fileSelector">
          <input type="text" id="filename" placeholder="Choose file" disabled>
          <label for="upload">Upload</label>
          <input type="file" id="upload" accept="application/zip,.lmsp,.llsp">
        </div>

        <button id="downloadEv3">⇓ EV3</button>
        <button id="downloadSpike">⇓ Spike</button>
        <button id="clear">Clear</button>
      </div>
      <div id="fileBlocks" class="blocks"></div>
    </div>

    <div class="controls">
      <button id="copyToBrowser" class="toBrowser">Copy to Browser =&gt;</button>
      <button id="allToBrowser" class="toBrowser">All to Browser =&gt;</button>
      <button id="copyToFile" class="toFile">&lt;= Copy to File</button>
      <button id="allToFile" class="toFile">&lt;= All to File</button>
      <button id="deleteSelected" class="danger">Delete Selected</button>
    </div>

    <div class="browser blocksSection">
      <div class="header">
        <div class="title">Browser</div>

        <button id="clearBrowser">Clear</button>
      </div>
      <div id="browserBlocks" class="blocks"></div>
    </div>
  </main>

  <div>
    <h4>How to use</h4>
    <ol>
      <li>
        Upload your EV3 Classroom (.lmsp) or Spike (.llsp) file.
        <ul>
          <li>This uploads to your browser only, and will not leave your computer.</li>
        </ul>
      </li>
      <li>
        Copy blocks to your browser.
        <ul>
          <li>Dependencies will be automatically copied as well.</li>
          <li>Blocks are saved in your browser's local storage.</li>
        </ul>
      </li>
      <li>Load a different EV3 Classroom (.lmsp) or Spike (.llsp) file, or clear it if you want to start fresh.</li>
      <li>Copy blocks from the browser back to the file.</li>
      <li>Download the EV3 or Spike file.</li>
    </ol>
    <h4>Limitations (IMPORTANT)</h4>
    <ul>
      <li>Make frequent backups. Blocks saved to your browser may be lost if you (...or your admin) clears browser history.</li>
      <li>Mixing Spike blocks with EV3 blocks will not work.</li>
      <li>Spike / EV3 blocks may be hidden within My Blocks. It's your responsibility to know which My Block is meant for which platform.</li>
      <li>Audio blocks in Spike will not be copied correctly. The embedded .wav file will be missing.</li>
      <li>Issues may occur if the name of a copied My Block is already in use.</li>
      <li>This utility will not copy a block if the block ID is already in use. This will occur if you try to copy the same block twice (...even if the first has since been modified).</li>
      <li>Problems? <a href="https://github.com/QuirkyCort/ev3copy">Submit an issue on github</a>.</li>
    </ul>
  </div>

  <!-- <div id="dialog" class="dialogScreen">
    <div class="window">
      <div class="row">
        <div>Group ID</div>
        <input type="text" id="groupID">
      </div>
      <div class="row right">
        <button id="groupIDSubmit">Submit</button>
      </div>
      <div class="row">
        <div class="footer">
          No group ID? <a href="request.html">Request for one here.</a><br>
          Or run in <a href="index.html?groupID=none">local mode.</a>
        </div>
      </div>
    </div>
  </div>

  <div id="invalidWarning" class="dialogScreen" style="display: none;">
    <div class="window">
      <div class="row">Invalid Group ID</div>
      <div class="row"><a href="index.html">Back</a></div>
    </div>
  </div> -->

  <script src="js/defaults.js"></script>
  <script src="js/main.js"></script>
</body>
</html>
